<div mat-dialog-title>
  <button mat-icon-button class="close-button" mat-dialog-close>
    <mat-icon>close</mat-icon>
  </button>
  <h2>{{ 'profile.profile-picture-upload-dialog.title' | translate }}</h2>
</div>

<ng-container *ngrxLet="isHandset$; let handset">
  <ngx-dropzone
    mat-dialog-content
    [ngClass]="{ handset }"
    [accept]="'image/*'"
    [multiple]="false"
    (change)="onSelect($event)"
  >
    <div class="user-picture-container">
      <img [src]="picture$ | async" class="user-picture" />
    </div>

    <div class="upload-options">
      <div class="drop-label">
        {{ 'profile.profile-picture-upload-dialog.drop-picture-here' | translate }}
      </div>
      <div class="or-label">
        {{ 'profile.profile-picture-upload-dialog.or' | translate }}
      </div>
      <div>
        <button mat-stroked-button class="upload-from-computer-button">
          <mat-icon>computer</mat-icon>
          {{ 'profile.profile-picture-upload-dialog.import-from-computer' | translate }}
        </button>
      </div>
    </div>
  </ngx-dropzone>
</ng-container>

<div mat-dialog-actions>
  <button mat-button *ngIf="uploaded" class="cancel-button" (click)="cancel()">
    {{ 'profile.profile-picture-upload-dialog.cancel' | translate }}
  </button>

  <button mat-stroked-button *ngIf="uploaded" color="primary" class="save-button" (click)="save()">
    <span *ngIf="(saving$ | async) === false">{{
      'profile.profile-picture-upload-dialog.save' | translate
    }}</span>
    <mat-spinner *ngIf="(saving$ | async) === true" [diameter]="20"></mat-spinner>
  </button>
</div>
